function bw2 = bwconnlines(bw)
bwd = double(bw);
bw2 = bw;
masks = {[0 0 1; 1 0 0; 0 0 0], ...
		 [0 0 0; 1 0 0; 0 0 1], ...
		 [1 0 0; 0 0 1; 0 0 0], ...
		 [0 0 0; 0 0 1; 0 0 1], ...
		 [0 1 0; 0 0 0; 0 1 0], ...
		 [0 0 0; 1 0 1; 0 0 0]};
for kk = 1:numel(masks)
	bw2 = bw2 | (conv2(bwd, masks{kk}, 'same') == 2);
end